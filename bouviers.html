<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bouviers | Bon Idee</title>
  <meta name="description" content="Bon Idee. Bouviers des Flandres. Structure, temperament, and health first." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />

  <style>
    /* Premium hero mosaic */
    .hero-mosaic {
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.08);
      background: radial-gradient(1200px 500px at 20% 10%, rgba(255,206,0,0.08), transparent 55%),
                  linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));
      overflow: hidden;
      box-shadow: 0 14px 40px rgba(0,0,0,0.35);
    }
    .hero-mosaic-top {
      padding: 16px 16px 12px;
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .hero-mosaic-title {
      font-family: "Playfair Display", serif;
      font-weight: 700;
      letter-spacing: 0.2px;
      margin: 0;
      font-size: 18px;
      color: rgba(255,255,255,0.92);
    }
    .hero-mosaic-sub {
      margin: 4px 0 0;
      font-size: 13px;
      color: rgba(255,255,255,0.62);
    }
    .hero-mosaic-link {
      font-size: 13px;
      color: rgba(255,206,0,0.9);
      text-decoration: none;
      white-space: nowrap;
    }
    .hero-mosaic-link:hover { text-decoration: underline; }

    .mosaic-grid {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      grid-template-rows: 170px 170px;
      gap: 10px;
      padding: 14px;
    }
    .mosaic-item {
      border-radius: 14px;
      overflow: hidden;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.08);
      position: relative;
    }
    .mosaic-item.big { grid-row: 1 / span 2; }
    .mosaic-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transform: translateZ(0);
    }
    .mosaic-fallback {
      padding: 22px 18px 26px;
      color: rgba(255,255,255,0.65);
      font-size: 14px;
    }

    @media (max-width: 880px) {
      .mosaic-grid {
        grid-template-columns: 1fr;
        grid-template-rows: 190px 190px 190px;
      }
      .mosaic-item.big { grid-row: auto; }
    }
  </style>
</head>

<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html">Bon Idee</a>

      <nav class="links">
        <a href="index.html">Home</a>
        <a href="bouviers.html" aria-current="page">Bouviers</a>
        <a href="lowchen.html">Lowchen</a>
        <a href="collection.html">Bon Idee Collective</a>
        <a class="btn" href="index.html#contact">Inquire</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <p class="kicker">Bon Idee Collective</p>
          <h1>Bouviers des Flandres</h1>
          <p class="lead">
            Confident, capable dogs with an emphasis on structure, temperament, and health.
          </p>

          <div class="hero-actions">
            <a class="btn" href="#dogs">Meet Our Bouviers</a>
            <a class="btn ghost" href="#application">Puppy Application</a>
            <a class="btn ghost" href="#gallery">Gallery</a>
          </div>

          <div class="badges">
            <span class="badge">Guardian</span>
            <span class="badge">Working</span>
            <span class="badge">Show</span>
          </div>
        </div>

        <div class="hero-media">
          <div class="hero-mosaic" aria-label="Latest from the Bouvier gallery">
            <div class="hero-mosaic-top">
              <div>
                <p class="hero-mosaic-title">Latest from the Gallery</p>
                <p class="hero-mosaic-sub">Newest photos automatically appear first.</p>
              </div>
              <a class="hero-mosaic-link" href="#gallery">View all</a>
            </div>

            <div id="bouvierHeroMosaic" class="mosaic-grid">
              <div class="mosaic-fallback">Loading photos…</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="dogs">
      <div class="container">
        <div class="section-head">
          <h2>Our Bouviers</h2>
          <p class="muted">A curated look at the dogs that represent the Bon Idee Bouvier program.</p>
        </div>

        <div class="grid">
          <article class="card">
            <div class="card-media placeholder" style="background-image:url('./images/alice.jpg'); background-size:cover; background-position:center;">
              <span>Dog photo</span>
            </div>
            <div class="card-body">
              <h3>Alice</h3>
              <p class="small muted">Add titles and a short line</p>
            </div>
          </article>

          <article class="card">
            <div class="card-media placeholder" style="background-image:url('./images/vanna.jpg'); background-size:cover; background-position:center;">
              <span>Dog photo</span>
            </div>
            <div class="card-body">
              <h3>Vanna</h3>
              <p class="small muted">Add titles and a short line</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section alt" id="puppies">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Puppies</h2>
          <p class="muted">For plans, process, and placement details, see Puppies on the main page.</p>
        </div>

        <div class="hero-actions">
          <a class="btn" href="index.html#puppies">Go to Puppies</a>
          <a class="btn ghost" href="index.html#contact">Inquire</a>
        </div>
      </div>
    </section>

    <section class="section alt" id="application">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Puppy Application</h2>
          <p class="muted">Ready to apply? Fill out our puppy form to help us match you with the right fit. No obligation.</p>
        </div>

        <div class="panel">
          <h3>Apply</h3>
          <p class="small muted">
            Tell us about your home, lifestyle, and what you are looking for in a Bouvier.
            We will review your submission and reach out if we see a strong fit for an upcoming litter.
          </p>
          <a class="btn" href="index.html#contact">Start Application</a>
        </div>
      </div>
    </section>

    <section class="section" id="gallery">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Gallery</h2>
          <p class="muted">A running timeline of our Bouviers.</p>
        </div>

        <div id="bouvierGallery" class="grid"></div>
      </div>
    </section>

    <footer class="footer">
      <div class="container footer-inner">
        <p class="small muted">© <span id="year"></span> Bon Idee</p>
        <p class="small muted"><a class="muted" href="./">Back to Home</a></p>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <script>
    // Global JSONP gallery loader
    (function () {
      let cbCounter = 0;

      function escapeHtml(s) {
        return String(s)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      function renderGallery(target, items) {
        if (!items || !items.length) {
          target.innerHTML = '<p class="muted">No photos yet.</p>';
          return;
        }

        target.innerHTML = items.map(item => {
          const img = item.thumb || "";
          const href = item.view || "#";
          const alt = escapeHtml(item.name || "Bon Idee photo");

          return `
            <article class="card">
              <a href="${href}" target="_blank" rel="noopener" aria-label="Open photo">
                <div class="card-media imgwrap">
                  <img loading="lazy" src="${img}" alt="${alt}" />
                </div>
              </a>
            </article>
          `;
        }).join("");
      }

      window.loadDriveGallery = function ({ key, targetId, scriptUrl, limit = 60 }) {
        const target = document.getElementById(targetId);
        if (!target) return;

        target.innerHTML = '<p class="muted">Loading photos...</p>';

        const cbName = `__bonIdeeGalleryCB_${Date.now()}_${cbCounter++}`;
        window[cbName] = function (data) {
          try {
            if (!data || !data.ok) {
              target.innerHTML = '<p class="muted">Gallery unavailable.</p>';
              return;
            }
            renderGallery(target, data.items || []);
          } finally {
            delete window[cbName];
            script.remove();
          }
        };

        const url = new URL(scriptUrl);
        url.searchParams.set("key", key);
        url.searchParams.set("limit", String(limit));
        url.searchParams.set("callback", cbName);

        const script = document.createElement("script");
        script.src = url.toString();
        script.async = true;
        script.onerror = () => {
          target.innerHTML = '<p class="muted">Failed to load photos.</p>';
          delete window[cbName];
          script.remove();
        };

        document.body.appendChild(script);
      };
    })();
  </script>

  <script>
    // JSONP helper for the hero mosaic (newest 3)
    (function () {
      const APPS_SCRIPT_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbzLj1H04WNOujMAeQWp6yG6Ne7ks_IY3ddE0SUwAabwsnFvWT1v_IbVuq08-FVIKIUfkQ/exec?v=3";

      function loadMosaic() {
        const target = document.getElementById("bouvierHeroMosaic");
        if (!target) return;

        const cbName = `__bonIdeeMosaicCB_${Date.now()}_${Math.random().toString(36).slice(2)}`;
        window[cbName] = function (data) {
          try {
            const items = (data && data.ok && data.items) ? data.items : [];
            const top = items.slice(0, 3);

            if (!top.length) {
              target.innerHTML = '<div class="mosaic-fallback">No gallery photos yet.</div>';
              return;
            }

            target.innerHTML = `
              <a class="mosaic-item big" href="#gallery" aria-label="View gallery">
                <img loading="lazy" src="${top[0].thumb}" alt="Latest gallery photo">
              </a>
              ${top[1] ? `
                <a class="mosaic-item" href="#gallery" aria-label="View gallery">
                  <img loading="lazy" src="${top[1].thumb}" alt="Latest gallery photo">
                </a>` : ''}
              ${top[2] ? `
                <a class="mosaic-item" href="#gallery" aria-label="View gallery">
                  <img loading="lazy" src="${top[2].thumb}" alt="Latest gallery photo">
                </a>` : ''}
            `;
          } finally {
            delete window[cbName];
            script.remove();
          }
        };

        const url = new URL(APPS_SCRIPT_WEBAPP_URL);
        url.searchParams.set("key", "bouviers");
        url.searchParams.set("limit", "12");
        url.searchParams.set("callback", cbName);

        const script = document.createElement("script");
        script.src = url.toString();
        script.async = true;
        script.onerror = () => {
          target.innerHTML = '<div class="mosaic-fallback">Gallery unavailable.</div>';
          delete window[cbName];
          script.remove();
        };
        document.body.appendChild(script);
      }

      loadMosaic();

      // Keep the full gallery below
      loadDriveGallery({
        key: "bouviers",
        targetId: "bouvierGallery",
        scriptUrl: "https://script.google.com/macros/s/AKfycbzLj1H04WNOujMAeQWp6yG6Ne7ks_IY3ddE0SUwAabwsnFvWT1v_IbVuq08-FVIKIUfkQ/exec?v=3",
        limit: 60
      });
    })();
  </script>
</body>
</html>
