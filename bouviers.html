<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bouviers | Bon Idee</title>
  <meta name="description" content="Bon Idee. Bouviers des Flandres. Structure, temperament, and health first." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="./">Bon Idee</a>

      <nav class="links">
        <a href="bouviers.html" aria-current="page">Bouviers</a>
        <a href="lowchen.html">Lowchen</a>
        <a href="index.html#puppies">Puppies</a>
        <a href="index.html#health">Health</a>
        <a href="collection.html">Bon Idee Collection</a>
        <a class="btn" href="index.html#contact">Inquire</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <p class="kicker">Bon Idee Collection</p>
          <h1>Bouviers des Flandres</h1>
          <p class="lead">
            Confident, capable dogs with an emphasis on structure, temperament, and health.
          </p>

          <div class="hero-actions">
            <a class="btn" href="#dogs">Meet Our Bouviers</a>
            <a class="btn ghost" href="#application">Puppy Application</a>
            <a class="btn ghost" href="#gallery">Gallery</a>
          </div>

          <div class="badges">
            <span class="badge">Guardian</span>
            <span class="badge">Working</span>
            <span class="badge">Show</span>
          </div>
        </div>

        <div class="hero-media">
          <div class="media placeholder" style="background-image:url('./images/bouviers-hero.jpg'); background-size:cover; background-position:center;">
            <span>Drop a hero photo at<br><strong>/images/bouviers-hero.jpg</strong></span>
          </div>
          <div class="media-caption">
            <p class="small muted">Bouviers page hero image.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="dogs">
      <div class="container">
        <div class="section-head">
          <h2>Our Bouviers</h2>
          <p class="muted">A curated look at the dogs that represent the Bon Idee Bouvier program.</p>
        </div>

        <div class="grid">
          <article class="card">
            <div class="card-media placeholder" style="background-image:url('./images/alice.jpg'); background-size:cover; background-position:center;">
              <span>Dog photo</span>
            </div>
            <div class="card-body">
              <h3>Alice</h3>
              <p class="small muted">Add titles and a short line</p>
            </div>
          </article>

          <article class="card">
            <div class="card-media placeholder" style="background-image:url('./images/vanna.jpg'); background-size:cover; background-position:center;">
              <span>Dog photo</span>
            </div>
            <div class="card-body">
              <h3>Vanna</h3>
              <p class="small muted">Add titles and a short line</p>
            </div>
          </article>

          <article class="card">
            <div class="card-media placeholder"><span>Dog photo</span></div>
            <div class="card-body">
              <h3>Dog Name</h3>
              <p class="small muted">Call name • Titles • Short note</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section alt" id="puppies">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Puppies</h2>
          <p class="muted">For plans, process, and placement details, see Puppies on the main page.</p>
        </div>

        <div class="hero-actions">
          <a class="btn" href="index.html#puppies">Go to Puppies</a>
          <a class="btn ghost" href="index.html#contact">Inquire</a>
        </div>
      </div>
    </section>

    <section class="section alt" id="application">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Puppy Application</h2>
          <p class="muted">Ready to apply? Fill out our puppy form to help us match you with the right fit. No obligation.</p>
        </div>

        <div class="panel">
          <h3>Apply</h3>
          <p class="small muted">
            Tell us about your home, lifestyle, and what you are looking for in a Bouvier.
            We will review your submission and reach out if we see a strong fit for an upcoming litter.
          </p>
          <a class="btn" href="index.html#contact">Start Application</a>
        </div>
      </div>
    </section>

    <section class="section" id="gallery">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Gallery</h2>
          <p class="muted">A running timeline of our Bouviers.</p>
        </div>

        <div id="bouvierGallery" class="grid"></div>
      </div>
    </section>

    <footer class="footer">
      <div class="container footer-inner">
        <p class="small muted">© <span id="year"></span> Bon Idee</p>
        <p class="small muted"><a class="muted" href="./">Back to Home</a></p>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <script>
    // JSONP gallery loader (GitHub Pages safe)
    (function () {
      let cbCounter = 0;

      function escapeHtml(s) {
        return String(s)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      function renderGallery(target, items) {
        if (!items || !items.length) {
          target.innerHTML = '<p class="muted">No photos yet.</p>';
          return;
        }

        target.innerHTML = items.map(item => {
          const img = item.thumb || "";
          const href = item.view || "#";
          const alt = escapeHtml(item.name || "Bon Idee photo");
          const dateStr = item.created ? new Date(item.created).toLocaleDateString() : "";

          return `
            <article class="card">
              <a href="${href}" target="_blank" rel="noopener" aria-label="Open photo">
                <div class="card-media imgwrap">
                  <img loading="lazy" src="${img}" alt="${alt}" />
                </div>
              </a>
              <div class="card-body">
                <p class="small muted">${dateStr}</p>
              </div>
            </article>
          `;
        }).join("");
      }

      function loadDriveGallery({ key, targetId, scriptUrl, limit = 60 }) {
        const target = document.getElementById(targetId);
        if (!target) return;

        target.innerHTML = '<p class="muted">Loading photos...</p>';

        const cbName = `__bonIdeeGalleryCB_${Date.now()}_${cbCounter++}`;
        window[cbName] = function (data) {
          try {
            if (!data || !data.ok) {
              target.innerHTML = '<p class="muted">Gallery unavailable.</p>';
              return;
            }
            renderGallery(target, data.items || []);
          } finally {
            delete window[cbName];
            script.remove();
          }
        };

        const url = new URL(scriptUrl);
        url.searchParams.set("key", key);
        url.searchParams.set("limit", String(limit));
        url.searchParams.set("callback", cbName);

        const script = document.createElement("script");
        script.src = url.toString();
        script.async = true;
        script.onerror = () => {
          target.innerHTML = '<p class="muted">Failed to load photos.</p>';
          delete window[cbName];
          script.remove();
        };

        document.body.appendChild(script);
      }

      const APPS_SCRIPT_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbzLj1H04WNOujMAeQWp6yG6Ne7ks_IY3ddE0SUwAabwsnFvWT1v_IbVuq08-FVIKIUfkQ/exec";

      loadDriveGallery({
        key: "bouviers",
        targetId: "bouvierGallery",
        scriptUrl: APPS_SCRIPT_WEBAPP_URL,
        limit: 60
      });
    })();
  </script>
</body>
</html>
