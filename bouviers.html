<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bouviers | Bon Idee</title>
  <meta name="description" content="Bon Idee. Bouviers des Flandres. Structure, temperament, and health first." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />

  <style>
    /* Centered premium hero */
    .hero-inner.centered {
      display: block;
    }
    .hero-inner.centered .hero-copy {
      max-width: 820px;
      margin: 0 auto;
      text-align: center;
    }
    .hero-inner.centered .badges {
      justify-content: center;
    }
    .hero-inner.centered .hero-actions {
      justify-content: center;
    }
    .hero-media {
      display: none;
    }

    /* Thin “latest” strip */
    .latest-strip {
      margin-top: 18px;
      padding-top: 18px;
      border-top: 1px solid rgba(255,255,255,0.08);
    }
    .latest-head {
      display: flex;
      align-items: baseline;
      justify-content: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .latest-head .small {
      margin: 0;
    }
    .latest-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      max-width: 980px;
      margin: 0 auto;
    }
    .latest-item {
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(0,0,0,0.35);
      aspect-ratio: 16 / 10;
      box-shadow: 0 10px 30px rgba(0,0,0,0.28);
      transform: translateZ(0);
    }
    .latest-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    @media (max-width: 860px) {
      .latest-grid {
        grid-template-columns: 1fr;
        max-width: 620px;
      }
      .latest-item { aspect-ratio: 16 / 11; }
    }
  </style>
</head>

<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="index.html">Bon Idee</a>

      <nav class="links">
        <a href="index.html">Home</a>
        <a href="bouviers.html" aria-current="page">Bouviers</a>
        <a href="lowchen.html">Lowchen</a>
        <a href="collection.html">Bon Idee Collective</a>
        <a class="btn" href="index.html#contact">Inquire</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner centered">
        <div class="hero-copy">
          <p class="kicker">Bon Idee Collective</p>
          <h1>Bouviers des Flandres</h1>
          <p class="lead">
            Confident, capable dogs with an emphasis on structure, temperament, and health.
          </p>

          <div class="hero-actions">
            <a class="btn" href="#dogs">Meet Our Bouviers</a>
            <a class="btn ghost" href="#application">Puppy Application</a>
            <a class="btn ghost" href="#gallery">Gallery</a>
          </div>

          <div class="badges">
            <span class="badge">Guardian</span>
            <span class="badge">Working</span>
            <span class="badge">Show</span>
          </div>

          <div class="latest-strip" aria-label="Latest photos">
            <div class="latest-head">
              <p class="small muted">Latest photos</p>
              <p class="small muted">•</p>
              <a class="small muted" href="#gallery" style="text-decoration:none;">View all</a>
            </div>
            <div id="bouvierLatest" class="latest-grid">
              <p class="muted">Loading photos…</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="dogs">
      <div class="container">
        <div class="section-head">
          <h2>Our Bouviers</h2>
          <p class="muted">A curated look at the dogs that represent the Bon Idee Bouvier program.</p>
        </div>

        <div class="grid">
          <article class="card">
            <div class="card-media placeholder" style="background-image:url('./images/alice.jpg'); background-size:cover; background-position:center;">
              <span>Dog photo</span>
            </div>
            <div class="card-body">
              <h3>Alice</h3>
              <p class="small muted">Add titles and a short line</p>
            </div>
          </article>

          <article class="card">
            <div class="card-media placeholder" style="background-image:url('./images/vanna.jpg'); background-size:cover; background-position:center;">
              <span>Dog photo</span>
            </div>
            <div class="card-body">
              <h3>Vanna</h3>
              <p class="small muted">Add titles and a short line</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section alt" id="puppies">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Puppies</h2>
          <p class="muted">For plans, process, and placement details, see Puppies on the main page.</p>
        </div>

        <div class="hero-actions">
          <a class="btn" href="index.html#puppies">Go to Puppies</a>
          <a class="btn ghost" href="index.html#contact">Inquire</a>
        </div>
      </div>
    </section>

    <section class="section alt" id="application">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Puppy Application</h2>
          <p class="muted">Ready to apply? Fill out our puppy form to help us match you with the right fit. No obligation.</p>
        </div>

        <div class="panel">
          <h3>Apply</h3>
          <p class="small muted">
            Tell us about your home, lifestyle, and what you are looking for in a Bouvier.
            We will review your submission and reach out if we see a strong fit for an upcoming litter.
          </p>
          <a class="btn" href="index.html#contact">Start Application</a>
        </div>
      </div>
    </section>

    <section class="section" id="gallery">
      <div class="container">
        <div class="section-head">
          <h2>Bouvier Gallery</h2>
          <p class="muted">A running timeline of our Bouviers.</p>
        </div>

        <div id="bouvierGallery" class="grid"></div>
      </div>
    </section>

    <footer class="footer">
      <div class="container footer-inner">
        <p class="small muted">© <span id="year"></span> Bon Idee</p>
        <p class="small muted"><a class="muted" href="./">Back to Home</a></p>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <script>
    (function () {
      let cbCounter = 0;

      function escapeHtml(s) {
        return String(s)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;")
          .replaceAll('"', "&quot;")
          .replaceAll("'", "&#039;");
      }

      function renderCards(target, items) {
        if (!items || !items.length) {
          target.innerHTML = '<p class="muted">No photos yet.</p>';
          return;
        }

        target.innerHTML = items.map(item => {
          const img = item.thumb || "";
          const href = item.view || "#";
          const alt = escapeHtml(item.name || "Bon Idee photo");

          return `
            <article class="card">
              <a href="${href}" target="_blank" rel="noopener" aria-label="Open photo">
                <div class="card-media imgwrap">
                  <img loading="lazy" src="${img}" alt="${alt}" />
                </div>
              </a>
            </article>
          `;
        }).join("");
      }

      function loadJsonp({ key, scriptUrl, limit, onData }) {
        const cbName = `__bonIdeeCB_${Date.now()}_${cbCounter++}`;
        window[cbName] = function (data) {
          try { onData(data); }
          finally {
            delete window[cbName];
            script.remove();
          }
        };

        const url = new URL(scriptUrl);
        url.searchParams.set("key", key);
        url.searchParams.set("limit", String(limit));
        url.searchParams.set("callback", cbName);

        const script = document.createElement("script");
        script.src = url.toString();
        script.async = true;
        script.onerror = () => {
          delete window[cbName];
          script.remove();
          onData({ ok: false });
        };

        document.body.appendChild(script);
      }

      const APPS_SCRIPT_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbzLj1H04WNOujMAeQWp6yG6Ne7ks_IY3ddE0SUwAabwsnFvWT1v_IbVuq08-FVIKIUfkQ/exec?v=4";

      // Latest strip (top 3)
      loadJsonp({
        key: "bouviers",
        scriptUrl: APPS_SCRIPT_WEBAPP_URL,
        limit: 12,
        onData: (data) => {
          const box = document.getElementById("bouvierLatest");
          const items = (data && data.ok && data.items) ? data.items.slice(0, 3) : [];
          if (!items.length) {
            box.innerHTML = '<p class="muted">No photos yet.</p>';
            return;
          }
          box.innerHTML = items.map(it => `
            <a class="latest-item" href="#gallery" aria-label="View gallery">
              <img loading="lazy" src="${it.thumb}" alt="Latest gallery photo">
            </a>
          `).join("");
        }
      });

      // Full gallery cards
      loadJsonp({
        key: "bouviers",
        scriptUrl: APPS_SCRIPT_WEBAPP_URL,
        limit: 60,
        onData: (data) => {
          const target = document.getElementById("bouvierGallery");
          if (!data || !data.ok) {
            target.innerHTML = '<p class="muted">Gallery unavailable.</p>';
            return;
          }
          renderCards(target, data.items || []);
        }
      });
    })();
  </script>
</body>
</html>
