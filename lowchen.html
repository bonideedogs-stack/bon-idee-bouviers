<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lowchen | Bon Idee</title>
  <meta name="description" content="Bon Idee. Lowchen. Elegant companions with stable temperaments and careful placement." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="./">Bon Idee</a>

      <nav class="links">
        <a href="bouviers.html">Bouviers</a>
        <a href="lowchen.html" aria-current="page">Lowchen</a>
        <a href="index.html#puppies">Puppies</a>
        <a href="index.html#health">Health</a>
        <a class="btn" href="index.html#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-copy">
          <p class="kicker">Bon Idee Collection</p>
          <h1>Lowchen</h1>
          <p class="lead">
            Charming, bright companions with a premium focus on health, temperament, and life-long support.
          </p>

          <div class="hero-actions">
            <a class="btn" href="#dogs">Meet Our Lowchen</a>
            <a class="btn ghost" href="index.html#contact">Inquire</a>
          </div>

          <div class="badges">
            <span class="badge">Companion</span>
            <span class="badge">Sport</span>
            <span class="badge">Show</span>
          </div>
        </div>

        <div class="hero-media">
          <div class="media placeholder" style="background-image:url('./images/lowchen-hero.jpg'); background-size:cover; background-position:center;">
            <span>Drop a hero photo at<br><strong>/images/lowchen-hero.jpg</strong></span>
          </div>
          <div class="media-caption">
            <p class="small muted">
              Lowchen page hero image.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="section" id="dogs">
      <div class="container">
        <div class="section-head">
          <h2>Our Lowchen</h2>
          <p class="muted">A curated look at the dogs that represent the Bon Idee Lowchen program.</p>
        </div>

        <div class="grid">
          <article class="card">
            <div class="card-media placeholder"><span>Lowchen photo</span></div>
            <div class="card-body">
              <h3>Dog Name</h3>
              <p class="small muted">Call name • Titles • Short note</p>
            </div>
          </article>

          <article class="card">
            <div class="card-media placeholder"><span>Lowchen photo</span></div>
            <div class="card-body">
              <h3>Dog Name</h3>
              <p class="small muted">Call name • Titles • Short note</p>
            </div>
          </article>

          <article class="card">
            <div class="card-media placeholder"><span>Lowchen photo</span></div>
            <div class="card-body">
              <h3>Dog Name</h3>
              <p class="small muted">Call name • Titles • Short note</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section alt">
      <div class="container">
        <div class="section-head">
          <h2>Lowchen Puppies</h2>
          <p class="muted">For plans, process, and placement details, see Puppies on the main page.</p>
        </div>
        <a class="btn" href="index.html#puppies">Go to Puppies</a>
      </div>
    </section>
<section class="section" id="available">
  <div class="container">
    <div class="section-head">
      <h2>Who We Have Left</h2>
      <p class="muted">Availability updates automatically.</p>
    </div>

    <div id="availableLowchen" class="grid"></div>
  </div>
</section>

<script>
  (async () => {
    const res = await fetch("./data/available-lowchen.json", { cache: "no-store" });
    const data = await res.json();
    const el = document.getElementById("availableLowchen");

    const items = (data.available || []);
    if (!items.length) {
      el.innerHTML = `
        <div class="panel">
          <h3>No puppies currently available</h3>
          <p class="small muted">If you would like to be considered for a future litter, please apply.</p>
          <a class="btn" href="#apply">Apply</a>
        </div>
      `;
      return;
    }

    el.innerHTML = items.map(p => `
      <article class="card">
        <div class="card-body">
          <h3>${p.litter || "Litter"}</h3>
          <p class="small muted">DOB: ${p.dob || "TBD"}</p>
          <p class="small muted">Collar: ${p.collarColor || "TBD"}</p>
          <p class="small muted">Sex: ${p.sex || "TBD"}</p>
          <p class="small muted">Coat: ${p.coatColor || "TBD"}</p>
        </div>
      </article>
    `).join("");
  })();
</script>

    <section class="section alt" id="puppy-window">
      <div class="container">
        <div class="section-head">     
         <h2>Current puppies in our lineup</h2>   
        </div>

        <div id="puppyGalleryLowchen" class="grid"></div>
      </div>
    </section>

    <div id="lightbox" class="lightbox" aria-hidden="true">
      <div class="lightbox-inner" role="dialog" aria-modal="true">
        <div class="lightbox-top">
          <div id="lightboxTitle" class="lightbox-title"></div>
          <button id="lightboxClose" class="lightbox-close" type="button">Close</button>
        </div>
        <img id="lightboxImg" alt="Puppy photo" />
      </div>
    </div>

    <footer class="footer">
      <div class="container footer-inner">
        <p class="small muted">© <span id="year"></span> Bon Idee</p>
        <p class="small muted"><a class="muted" href="./">Back to Home</a></p>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

  <script>
    (async () => {
      const res = await fetch("./data/puppy-photos-lowchen.json", { cache: "no-store" });
      const data = await res.json();
      const el = document.getElementById("puppyGalleryLowchen");

      const items = (data.current || []); // show ALL
      if (!items.length) {
        el.innerHTML = '<p class="muted">No recent puppy photos yet.</p>';
        return;
      }

      el.innerHTML = items.map((p, i) => `
        <article class="card">
          <a href="${p.url}" class="lb-item" data-url="${p.url}" data-title="${(p.driveName || "Puppy photo").replace(/"/g, "&quot;")}" aria-label="Open photo ${i + 1}">
            <div class="card-media imgwrap">
              <img loading="lazy" src="${p.url}" alt="${(p.driveName || "Puppy photo").replace(/"/g, "&quot;")}" />
            </div>
          </a>
        </article>
      `).join("");

      const lightbox = document.getElementById("lightbox");
      const lbImg = document.getElementById("lightboxImg");
      const lbTitle = document.getElementById("lightboxTitle");
      const lbClose = document.getElementById("lightboxClose");

      function openLightbox(url, title) {
        lbImg.src = url;
        lbTitle.textContent = title || "";
        lightbox.classList.add("open");
        lightbox.setAttribute("aria-hidden", "false");
        document.body.style.overflow = "hidden";
      }

      function closeLightbox() {
        lightbox.classList.remove("open");
        lightbox.setAttribute("aria-hidden", "true");
        lbImg.src = "";
        document.body.style.overflow = "";
      }

      el.addEventListener("click", (e) => {
        const a = e.target.closest(".lb-item");
        if (!a) return;
        e.preventDefault();
        openLightbox(a.dataset.url, a.dataset.title);
      });

      lbClose.addEventListener("click", closeLightbox);

      lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeLightbox();
      });
    })();
  </script>
</body>
</html>
